(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{29:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(7),r=n.n(o),i=(n(29),n(3)),s=n(0);function l(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(i.a)(n,2),o=a[0],r=a[1];return Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):alert("Enter something")},children:[Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(s.jsx)("input",{className:"SearchForm-input",type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})})}var u=n(10),j=n(19),b=n.n(j);function d(e,t){return b.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23201132-c06471d6b76c1dab4fe3668e8","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}var h=n(23);function m(){return Object(s.jsx)("div",{className:"spinner",children:Object(s.jsxs)("div",{children:[Object(s.jsx)(h.a,{size:"32",className:"icon-spin"}),"Loading..."]})})}function O(e){var t=e.webformatURL,n=e.onOpen,c=e.largeImageURL;return Object(s.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(c)},children:Object(s.jsx)("img",{src:t,alt:"nice",className:"ImageGalleryItem-image"})})}var p=n(20),f=n(21),g=n(24),v=n(22),x=document.querySelector("#modal-root"),y=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(p.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(s.jsx)("div",{className:"Overlay",onClick:this.handleBackdropClick,children:Object(s.jsx)("div",{className:"Modal",children:this.props.children})}),x)}}]),n}(c.Component);function w(e){var t=e.onLoadMoreClick;return Object(s.jsx)("div",{className:"more",children:Object(s.jsx)("button",{type:"submit",className:"Button",onClick:t,children:"Load More"})})}var k="idle",S="pending",N="rejected",C="resolved";function L(e){var t=e.inputValue,n=Object(c.useState)(1),a=Object(i.a)(n,2),o=a[0],r=a[1],l=Object(c.useState)([]),j=Object(i.a)(l,2),b=j[0],h=j[1],p=Object(c.useState)(""),f=Object(i.a)(p,2),g=f[0],v=f[1],x=Object(c.useState)(!1),L=Object(i.a)(x,2),E=L[0],I=L[1],M=Object(c.useState)("idle"),R=Object(i.a)(M,2),U=R[0],D=R[1];Object(c.useEffect)((function(){t&&(D(S),r(1),d(t,o).then((function(e){if(0===e.length)return D(N);h(e)})).then(D(C)).catch((function(e){return D(U.REJECTED)})))}),[t]),Object(c.useEffect)((function(){1!==o&&(D(S),d(t,o).then((function(e){if(0===e.length)return D(N);h([].concat(Object(u.a)(b),Object(u.a)(e)))})).then(D(C)).then((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return D(N)})))}),[o]);var B=function(){v(!E)},F=function(e){v(e),I(!0)};return U===k?Object(s.jsx)("h1",{className:"title",children:"Want a picture?"}):U===S?Object(s.jsx)(m,{}):U===N?Object(s.jsxs)("h1",{className:"title",children:["By searching ",Object(s.jsx)("span",{className:"rejected-span",children:t})," we will not find pictures on this resource, sorry :("]}):U===C?Object(s.jsxs)("div",{children:[Object(s.jsx)("ul",{className:"ImageGallery",children:b.map((function(e){return Object(s.jsx)(O,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,onOpen:F},e.id)}))}),E&&Object(s.jsxs)(y,{onClose:B,children:[Object(s.jsx)("img",{src:g,alt:"modal-img"}),Object(s.jsx)("button",{type:"button",onClick:B,children:"Close Modal"})]}),Object(s.jsx)(w,{onLoadMoreClick:function(){r((function(e){return e+1}))}})]}):void 0}function E(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=(t[0],t[1],Object(c.useState)("")),a=Object(i.a)(n,2),o=a[0],r=a[1];return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(l,{onSubmit:r}),Object(s.jsx)(L,{inputValue:o})]})}r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(E,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.f0f31327.chunk.js.map